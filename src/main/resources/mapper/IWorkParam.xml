<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">



<mapper namespace="com.caecc.dao.WorkParamDao">

    <resultMap id="workparamMap" type="WorkParam">
        <id property="id" column="id" />
        <result property="ethIP" column="eth_iP" />
        <result property="srcIP" column="src_iP" />
        <result property="srcPort" column="src_port" />
        <result property="desIP" column="des_iP" />
        <result property="desPort" column="des_port" />
        <result property="protocol" column="protocol" />
        <result property="mode" column="mode" />
    </resultMap>


    <select id="getAllWorkParams" resultMap="workparamMap">
		select * from weidan.work_param
	</select>
    
    <insert id="insert">
        <selectKey keyColumn="id" resultType="long" keyProperty="id" order="BEFORE">
            SELECT LAST_INSERT_ID()
        </selectKey>
        insert into weidan.work_param(
            eth_iP,src_iP,src_port,des_iP,des_port,protocol,mode)
        values (#(ethIP),#(srcIP),#(srcPort),#(desIP),#(desPort),#(protocol),#(mode))
    </insert>

    <update id="updateById">
		update weidan.work_param
		set user_name = #{userName},
			user_password = #{userPassword},
			user_email = #{userEmail},
			user_info = #{userInfo},
			head_img = #{headImg, jdbcType=BLOB},
			create_time = #{createTime, jdbcType=TIMESTAMP}
		where id = #{id}
	</update>

    <delete id="deleteById">
		delete from weidan.work_param where id = #{id}
	</delete>
</mapper>
